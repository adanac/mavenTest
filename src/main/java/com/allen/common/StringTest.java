package com.allen.common;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

import org.apache.commons.lang.StringUtils;
import org.junit.Test;

import com.allen.common.util.NormalUtil;

public class StringTest {

	@Test
	public void test_String_Integer() {
		System.out.println("1".equals(1));
		System.out.println(Integer.parseInt("1") == 1);
	}

	@Test
	public void test_str2Int() {
		Integer res = null;
		String str = "a1,a2";
		String[] strs = str.split(",");
		if (strs.length > 1) {
			res = 0;
		} else if (strs.length == 1) {
			if (str.equals("a1")) {
				res = 1;
			} else {
				res = 2;
			}
		}
		System.out.println(res + "");
	}

	@Test
	public void test_strs_for2() {
		String[] res_arr = new String[] {};
		String str = "a1,a2,a3";

		res_arr = new String[str.split(",").length];// 必须声明长度，否则
		res_arr = str.split(","); // java.lang.ArrayIndexOutOfBoundsException:
		// 0
		System.out.println("res_arr.length:" + res_arr.length);
		for (int i = 0; i < res_arr.length; i++) {
			System.out.println(res_arr[i]);
		}
	}

	@Test
	public void test_strs_for() {
		String[] res_arr = new String[] {};
		String str = "a1,a2,a3";

		res_arr = new String[str.split(",").length];// 必须声明长度，否则
		res_arr = str.split(","); // java.lang.ArrayIndexOutOfBoundsException:
		// 0
		System.out.println("res_arr.length:" + res_arr.length);
		for (String res : res_arr) {
			System.out.println(res);
		}
	}

	@Test
	public void test_declare() {
		String[] res_arr = new String[] {};
		String str = "a1,a2,a3";

		res_arr = new String[str.split(",").length];// 必须声明长度，否则
													// java.lang.ArrayIndexOutOfBoundsException:
													// 0
		res_arr[0] = "a1";
		res_arr[1] = "a2";
		res_arr[2] = "a3";
		System.out.println(res_arr.length);
	}

	@Test
	public void test_sub() {
		String res = "";
		int count = res.lastIndexOf(",");// -1
		String temp = res.substring(0, count);// java.lang.StringIndexOutOfBoundsException:
												// String index out of range: -1
		System.out.println(res);
		System.out.println(temp);
	}

	@Test
	public void test_array() {
		int nums[] = new int[] { 3, 13, 4, 6 };
		int prices[];
		// 让prices数组指向nums所引用的数组
		prices = nums;
		for (int i = 0; i < prices.length; i++) {
			System.out.println(prices[i]);
		}
		prices[2] = 100;
		// 访问nums数组的第三个元素 将看到数组100
		System.out.println(nums[2]);
	}

	@Test
	public void test0() {
		String[] ids;
		String strs = "1";
		if (strs.indexOf(",") != -1) {
			ids = new String[strs.split(",").length];
			ids = strs.split(",");
		} else {
			ids = new String[1];
			ids[0] = strs;
		}
		System.out.println(ids);
	}

	@Test
	public void test1() {
		String ids = "";
		for (int i = 0; i < 3; i++) {
			ids = ids + ",";
		}
		System.out.println(ids);
	}

	@Test
	public void test2() {
		Map<String, Object> paramMap = new HashMap<String, Object>();
		String activityIds = "100010002";
		if (StringUtils.isEmpty(activityIds)) {
			paramMap.put("activityIds", "");
		} else {
			if (activityIds.contains(",")) {
				String[] tempStrArray = StringUtils.split(activityIds, ',');

				for (int i = 0; i < tempStrArray.length; i++) {
					tempStrArray[i] = "'" + tempStrArray[i] + "'";
				}
				String activityids = StringUtils.join(tempStrArray, ',');
				paramMap.put("activityIds", activityids);
			} else {
				paramMap.put("activityIds", "'" + activityIds + "'");
			}
		}
		System.out.println(paramMap);
	}

	@Test
	public void test3() {
		ArrayList<String> skuIds = new ArrayList<String>();
		for (int i = 1; i <= 1000; i++) {
			skuIds.add(i + "");
		}
		String sIds = StringUtils.join(skuIds, ",");
		System.out.println(sIds);
	}

	@Test
	public void testStringLength() {
		String str = "";
		str += "1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,11110,11111,11112,11113,11114,11115,11116,11117,11118,11119,11120,11121,11122,11123,11124,11125,11126,11127,11128,11129,11130,11131,11132,11133,11134,11135,11136,11137,11138,11139,11140,11141,11142,11143,11144,11145,11146,11147,11148,11149,11150,11151,11152,11153,11154,11155,11156,11157,11158,11159,11160,11161,11162,11163,11164,11165,11166,11167,11168,11169,11170,11171,11172,11173,11174,11175,11176,11177,11178,11179,11180,11181,11182,11183,11184,11185,11186,11187,11188,11189,11190,11191,11192,11193,11194,11195,11196,11197,11198,11199,111100,111101,111102,111103,111104,111105,111106,111107,111108,111109,111110,111111,111112,111113,111114,111115,111116,111117,111118,111119,111120,111121,111122,111123,111124,111125,111126,111127,111128,111129,111130,111131,111132,111133,111134,111135,111136,111137,111138,111139,111140,111141,111142,111143,111144,111145,111146,111147,111148,111149,111150,111151,111152,111153,111154,111155,111156,111157,111158,111159,111160,111161,111162,111163,111164,111165,111166,111167,111168,111169,111170,111171,111172,111173,111174,111175,111176,111177,111178,111179,111180,111181,111182,111183,111184,111185,111186,111187,111188,111189,111190,111191,111192,111193,111194,111195,111196,111197,111198,111199,111200,111201,111202,111203,111204,111205,111206,111207,111208,111209,111210,111211,111212,111213,111214,111215,111216,111217,111218,111219,111220,111221,111222,111223,111224,111225,111226,111227,111228,111229,111230,111231,111232,111233,111234,111235,111236,111237,111238,111239,111240,111241,111242,111243,111244,111245,111246,111247,111248,111249,111250,111251,111252,111253,111254,111255,111256,111257,111258,111259,111260,111261,111262,111263,111264,111265,111266,111267,111268,111269,111270,111271,111272,111273,111274,111275,111276,111277,111278,111279,111280,111281,111282,111283,111284,111285,111286,111287,111288,111289,111290,111291,111292,111293,111294,111295,111296,111297,111298,111299,111300,111301,111302,111303,111304,111305,111306,111307,111308,111309,111310,111311,111312,111313,111314,111315,111316,111317,111318,111319,111320,111321,111322,111323,111324,111325,111326,111327,111328,111329,111330,111331,111332,111333,111334,111335,111336,111337,111338,111339,111340,111341,111342,111343,111344,111345,111346,111347,111348,111349,111350,111351,111352,111353,111354,111355,111356,111357,111358,111359,111360,111361,111362,111363,111364,111365,111366,111367,111368,111369,111370,111371,111372,111373,111374,111375,111376,111377,111378,111379,111380,111381,111382,111383,111384,111385,111386,111387,111388,111389,111390,111391,111392,111393,111394,111395,111396,111397,111398,111399,111400,111401,111402,111403,111404,111405,111406,111407,111408,111409,111410,111411,111412,111413,111414,111415,111416,111417,111418,111419,111420,111421,111422,111423,111424,111425,111426,111427,111428,111429,111430,111431,111432,111433,111434,111435,111436,111437,111438,111439,111440,111441,111442,111443,111444,111445,111446,111447,111448,111449,111450,111451,111452,111453,111454,111455,111456,111457,111458,111459,111460,111461,111462,111463,111464,111465,111466,111467,111468,111469,111470,111471,111472,111473,111474,111475,111476,111477,111478,111479,111480,111481,111482,111483,111484,111485,111486,111487,111488,111489,111490,111491,111492,111493,111494,111495,111496,111497,111498,111499,111500,111501,111502,111503,111504,111505,111506,111507,111508,111509,111510,111511,111512,111513,111514,111515,111516,111517,111518,111519,111520,111521,111522,111523,111524,111525,111526,111527,111528,111529,111530,111531,111532,111533,111534,111535,111536,111537,111538,111539,111540,111541,111542,111543,111544,111545,111546,111547,111548,111549,111550,111551,111552,111553,111554,111555,111556,111557,111558,111559,111560,111561,111562,111563,111564,111565,111566,111567,111568,111569,111570,111571,111572,111573,111574,111575,111576,111577,111578,111579,111580,111581,111582,111583,111584,111585,111586,111587,111588,111589,111590,111591,111592,111593,111594,111595,111596,111597,111598,111599,111600,111601,111602,111603,111604,111605,111606,111607,111608,111609,111610,111611,111612,111613,111614,111615,111616,111617,111618,111619,111620,111621,111622,111623,111624,111625,111626,111627,111628,111629,111630,111631,111632,111633,111634,111635,111636,111637,111638,111639,111640,111641,111642,111643,111644,111645,111646,111647,111648,111649,111650,111651,111652,111653,111654,111655,111656,111657,111658,111659,111660,111661,111662,111663,111664,111665,111666,111667,111668,111669,111670,111671,111672,111673,111674,111675,111676,111677,111678,111679,111680,111681,111682,111683,111684,111685,111686,111687,111688,111689,111690,111691,111692,111693,111694,111695,111696,111697,111698,111699,111700,111701,111702,111703,111704,111705,111706,111707,111708,111709,111710,111711,111712,111713,111714,111715,111716,111717,111718,111719,111720,111721,111722,111723,111724,111725,111726,111727,111728,111729,111730,111731,111732,111733,111734,111735,111736,111737,111738,111739,111740,111741,111742,111743,111744,111745,111746,111747,111748,111749,111750,111751,111752,111753,111754,111755,111756,111757,111758,111759,111760,111761,111762,111763,111764,111765,111766,111767,111768,111769,111770,111771,111772,111773,111774,111775,111776,111777,111778,111779,111780,111781,111782,111783,111784,111785,111786,111787,111788,111789,111790,111791,111792,111793,111794,111795,111796,111797,111798,111799,111800,111801,111802,111803,111804,111805,111806,111807,111808,111809,111810,111811,111812,111813,111814,111815,111816,111817,111818,111819,111820,111821,111822,111823,111824,111825,111826,111827,111828,111829,111830,111831,111832,111833,111834,111835,111836,111837,111838,111839,111840,111841,111842,111843,111844,111845,111846,111847,111848,111849,111850,111851,111852,111853,111854,111855,111856,111857,111858,111859,111860,111861,111862,111863,111864,111865,111866,111867,111868,111869,111870,111871,111872,111873,111874,111875,111876,111877,111878,111879,111880,111881,111882,111883,111884,111885,111886,111887,111888,111889,111890,111891,111892,111893,111894,111895,111896,111897,111898,111899,111900,111901,111902,111903,111904,111905,111906,111907,111908,111909,111910,111911,111912,111913,111914,111915,111916,111917,111918,111919,111920,111921,111922,111923,111924,111925,111926,111927,111928,111929,111930,111931,111932,111933,111934,111935,111936,111937,111938,111939,111940,111941,111942,111943,111944,111945,111946,111947,111948,111949,111950,111951,111952,111953,111954,111955,111956,111957,111958,111959,111960,111961,111962,111963,111964,111965,111966,111967,111968,111969,111970,111971,111972,111973,111974,111975,111976,111977,111978,111979,111980,111981,111982,111983,111984,111985,111986,111987,111988,111989,111990,111991,111992,111993,111994,111995,111996,111997,111998,111999,1111000,1111001,1111002,1111003,1111004,1111005,1111006,1111007,1111008,1111009,1111010,1111011,1111012,1111013,1111014,1111015,1111016,1111017,1111018,1111019,1111020,1111021,1111022,1111023,1111024,1111025,1111026,1111027,1111028,1111029,1111030,1111031,1111032,1111033,1111034,1111035,1111036,1111037,1111038,1111039,1111040,1111041,1111042,1111043,1111044,1111045,1111046,1111047,1111048,1111049,1111050,1111051,1111052,1111053,1111054,1111055,1111056,1111057,1111058,1111059,1111060,1111061,1111062,1111063,1111064,1111065,1111066,1111067,1111068,1111069,1111070,1111071,1111072,1111073,1111074,1111075,1111076,1111077,1111078,1111079,1111080,1111081,1111082,1111083,1111084,1111085,1111086,1111087,1111088,1111089,1111090,1111091,1111092,1111093,1111094,1111095,1111096,1111097,1111098,1111099,1111100,1111101,1111102,1111103,1111104,1111105,1111106,1111107,1111108,1111109,1111110,1111111,1111112,1111113,1111114,1111115,1111116,1111117,1111118,1111119,1111120,1111121,1111122,1111123,1111124,1111125,1111126,1111127,1111128,1111129,1111130,1111131,1111132,1111133,1111134,1111135,1111136,1111137,1111138,1111139,1111140,1111141,1111142,1111143,1111144,1111145,1111146,1111147,1111148,1111149,1111150,1111151,1111152,1111153,1111154,1111155,1111156,1111157,1111158,1111159,1111160,1111161,1111162,1111163,1111164,1111165,1111166,1111167,1111168,1111169,1111170,1111171,1111172,1111173,1111174,1111175,1111176,1111177,1111178,1111179,1111180,1111181,1111182,1111183,1111184,1111185,1111186,1111187,1111188,1111189,1111190,1111191,1111192,1111193,1111194,1111195,1111196,1111197,1111198,1111199,1111200,1111201,1111202,1111203,1111204,1111205,1111206,1111207,1111208,1111209,1111210,1111211,1111212,1111213,1111214,1111215,1111216,1111217,1111218,1111219,1111220,1111221,1111222,1111223,1111224,1111225,1111226,1111227,1111228,1111229,1111230,1111231,1111232,1111233,1111234,1111235,1111236,1111237,1111238,1111239,1111240,1111241,1111242,1111243,1111244,1111245,1111246,1111247,1111248,1111249,1111250,1111251,1111252,1111253,1111254,1111255,1111256,1111257,1111258,1111259,1111260,1111261,1111262,1111263,1111264,1111265,1111266,1111267,1111268,1111269,1111270,1111271,1111272,1111273,1111274,1111275,1111276,1111277,1111278,1111279,1111280,1111281,1111282,1111283,1111284,1111285,1111286,1111287,1111288,1111289,1111290,1111291,1111292,1111293,1111294,1111295,1111296,1111297,1111298,1111299,1111300,1111301,1111302,1111303,1111304,1111305,1111306,1111307,1111308,1111309,1111310,1111311,1111312,1111313,1111314,1111315,1111316,1111317,1111318,1111319,1111320,1111321,1111322,1111323,1111324,1111325,1111326,1111327,1111328,1111329,1111330,1111331,1111332,1111333,1111334,1111335,1111336,1111337,1111338,1111339,1111340,1111341,1111342,1111343,1111344,1111345,1111346,1111347,1111348,1111349,1111350,1111351,1111352,1111353,1111354,1111355,1111356,1111357,1111358,1111359,1111360,1111361,1111362,1111363,1111364,1111365,1111366,1111367,1111368,1111369,1111370,1111371,1111372,1111373,1111374,1111375,1111376,1111377,1111378,1111379,1111380,1111381,1111382,1111383,1111384,1111385,1111386,1111387,1111388,1111389,1111390,1111391,1111392,1111393,1111394,1111395,1111396,1111397,1111398,1111399,1111400,1111401,1111402,1111403,1111404,1111405,1111406,1111407,1111408,1111409,1111410,1111411,1111412,1111413,1111414,1111415,1111416,1111417,1111418,1111419,1111420,1111421,1111422,1111423,1111424,1111425,1111426,1111427,1111428,1111429,1111430,1111431,1111432,1111433,1111434,1111435,1111436,1111437,1111438,1111439,1111440,1111441,1111442,1111443,1111444,1111445,1111446,1111447,1111448,1111449,1111450,1111451,1111452,1111453,1111454,1111455,1111456,1111457,1111458,1111459,1111460,1111461,1111462,1111463,1111464,1111465,1111466,1111467,1111468,1111469,1111470,1111471,1111472,1111473,1111474,1111475,1111476,1111477,1111478,1111479,1111480,1111481,1111482,1111483,1111484,1111485,1111486,1111487,1111488,1111489,1111490,1111491,1111492,1111493,1111494,1111495,1111496,1111497,1111498,1111499,1111500,1111501,1111502,1111503,1111504,1111505,1111506,1111507,1111508,1111509,1111510,1111511,1111512,1111513,1111514,1111515,1111516,1111517,1111518,1111519,1111520,1111521,1111522,1111523,1111524,1111525,1111526,1111527,1111528,1111529,1111530,1111531,1111532,1111533,1111534,1111535,1111536,1111537,1111538,1111539,1111540,1111541,1111542,1111543,1111544,1111545,1111546,1111547,1111548,1111549,1111550,1111551,1111552,1111553,1111554,1111555,1111556,1111557,1111558,1111559,1111560,1111561,1111562,1111563,1111564,1111565,1111566,1111567,1111568,1111569,1111570,1111571,1111572,1111573,1111574,1111575,1111576,1111577,1111578,1111579,1111580,1111581,1111582,1111583,1111584,1111585,1111586,1111587,1111588,1111589,1111590,1111591,1111592,1111593,1111594,1111595,1111596,1111597,1111598,1111599,1111600,1111601,1111602,1111603,1111604,1111605,1111606,1111607,1111608,1111609,1111610,1111611,1111612,1111613,1111614,1111615,1111616,1111617,1111618,1111619,1111620,1111621,1111622,1111623,1111624,1111625,1111626,1111627,1111628,1111629,1111630,1111631,1111632,1111633,1111634,1111635,1111636,1111637,1111638,1111639,1111640,1111641,1111642,1111643,1111644,1111645,1111646,1111647,1111648,1111649,1111650,1111651,1111652,1111653,1111654,1111655,1111656,1111657,1111658,1111659,1111660,1111661,1111662,1111663,1111664,1111665,1111666,1111667,1111668,1111669,1111670,1111671,1111672,1111673,1111674,1111675,1111676,1111677,1111678,1111679,1111680,1111681,1111682,1111683,1111684,1111685,1111686,1111687,1111688,1111689,1111690,1111691,1111692,1111693,1111694,1111695,1111696,1111697,1111698,1111699,1111700,1111701,1111702,1111703,1111704,1111705,1111706,1111707,1111708,1111709,1111710,1111711,1111712,1111713,1111714,1111715,1111716,1111717,1111718,1111719,1111720,1111721,1111722,1111723,1111724,1111725,1111726,1111727,1111728,1111729,1111730,1111731,1111732,1111733,1111734,1111735,1111736,1111737,1111738,1111739,1111740,1111741,1111742,1111743,1111744,1111745,1111746,1111747,1111748,1111749,1111750,1111751,1111752,1111753,1111754,1111755,1111756,1111757,1111758,1111759,1111760,1111761,1111762,1111763,1111764,1111765,1111766,1111767,1111768,1111769,1111770,1111771,1111772,1111773,1111774,1111775,1111776,1111777,1111778,1111779,1111780,1111781,1111782,1111783,1111784,1111785,1111786,1111787,1111788,1111789,1111790,1111791,1111792,1111793,1111794,1111795,1111796,1111797,1111798,1111799,1111800,1111801,1111802,1111803,1111804,1111805,1111806,1111807,1111808,1111809,1111810,1111811,1111812,1111813,1111814,1111815,1111816,1111817,1111818,1111819,1111820,1111821,1111822,1111823,1111824,1111825,1111826,1111827,1111828,1111829,1111830,1111831,1111832,1111833,1111834,1111835,1111836,1111837,1111838,1111839,1111840,1111841,1111842,1111843,1111844,1111845,1111846,1111847,1111848,1111849,1111850,1111851,1111852,1111853,1111854,1111855,1111856,1111857,1111858,1111859,1111860,1111861,1111862,1111863,1111864,1111865,1111866,1111867,1111868,1111869,1111870,1111871,1111872,1111873,1111874,1111875,1111876,1111877,1111878,1111879,1111880,1111881,1111882,1111883,1111884,1111885,1111886,1111887,1111888,1111889,1111890,1111891,1111892,1111893,1111894,1111895,1111896,1111897,1111898,1111899,1111900,1111901,1111902,1111903,1111904,1111905,1111906,1111907,1111908,1111909,1111910,1111911,1111912,1111913,1111914,1111915,1111916,1111917,1111918,1111919,1111920,1111921,1111922,1111923,1111924,1111925,1111926,1111927,1111928,1111929,1111930,1111931,1111932,1111933,1111934,1111935,1111936,1111937,1111938,1111939,1111940,1111941,1111942,1111943,1111944,1111945,1111946,1111947,1111948,1111949,1111950,1111951,1111952,1111953,1111954,1111955,1111956,1111957,1111958,1111959,1111960,1111961,1111962,1111963,1111964,1111965,1111966,1111967,1111968,1111969,1111970,1111971,1111972,1111973,1111974,1111975,1111976,1111977,1111978,1111979,1111980,1111981,1111982,1111983,1111984,1111985,1111986,1111987,1111988,1111989,1111990,1111991,1111992,1111993,1111994,1111995,1111996,1111997,1111998,1111999";
		String[] split = str.split(",");
		// str = str.replace(new Pattern("，+","gm"), "，");
		// sku = sku.replace(new RegExp("， ，+","gm"), "，")
		// if(sku.lastIndexOf("，") == (sku.length-1)){
		// sku = sku.substring(0, sku.length-1);
		// }
		// if(sku.indexOf("，") == 0){
		// sku = sku.substring(1, sku.length);
		// }
		System.out.println("字符串的长度为：" + split.length);
	}

	@Test
	public void testFormatString() {

		System.out.println(getFormatString("1", "；"));// 1
		System.out.println(getFormatString("；1；2；3；", "；"));// 123
	}

	private String getFormatString(String source, String sep) {
		String res = "";
		if (source.indexOf("；") != -1) {
			String[] sources = source.split("；");
			for (String ss : sources) {
				if (!NormalUtil.isNullOrEmpty(ss)) {
					res = res + ss + ",";
				}
			}
		} else {
			res = res + source + ",";
		}
		return res.substring(0, res.lastIndexOf(","));
	}

	@Test
	public void testEqual() {
		System.out.println("3".equals(3l));
		System.out.println("3".equals(String.valueOf(3l)));
		System.out.println("3".equals(String.valueOf(3L)));
		System.out.println("3" == (String.valueOf(3L)));
	}
}
